

---

自作の防犯カメラを作る場合、以下のステップを参考にすると良いでしょう。ここでは、Raspberry Piとカメラモジュールを使用した方法を紹介します。

### 必要な材料
1. **Raspberry Pi**（モデル3以上推奨）
2. **Raspberry Pi Camera Module**（V2やHQカメラが一般的）
3. **MicroSDカード**（Raspberry Pi OSインストール用）
4. **電源アダプター**（Raspberry Pi用）
5. **ケース**（防水機能付きのものが良い）
6. **ネットワーク接続**（Wi-Fiまたはイーサネットケーブル）

### 手順
#### 1. 機材の準備
- Raspberry PiにRaspberry Pi OSをインストールします。公式サイトからOSイメージをダウンロードし、MicroSDカードに書き込みます。
- Raspberry Pi Camera ModuleをRaspberry Piに接続します。カメラケーブルを正しく接続し、カメラモジュールがしっかり固定されていることを確認します。

#### 2. システムのセットアップ
- Raspberry Piを起動し、SSHやVNCを使ってリモート接続できるように設定します。これにより、PCやスマートフォンからRaspberry Piを管理できます。
- `raspi-config`を使ってカメラモジュールを有効にします。
  
  ```bash
  sudo raspi-config
  ```
  「インターフェースオプション」から「カメラ」を選択し、有効にします。

#### 3. カメラの動作確認
- `raspistill`や`raspivid`コマンドでカメラが正しく動作しているか確認します。

  ```bash
  raspistill -o test.jpg
  ```

#### 4. 防犯カメラソフトウェアのインストール
- **Motion** というソフトウェアをインストールすると、動体検知や映像のストリーミングが可能です。

  ```bash
  sudo apt-get install motion
  ```
  
- Motionの設定ファイルを編集して、必要なオプションをカスタマイズします。例えば、動体検知やカメラの解像度、保存フォルダなどを設定します。

  ```bash
  sudo nano /etc/motion/motion.conf
  ```

#### 5. ストリーミングの設定
- ネットワーク経由で映像を確認できるように、Motionの設定でストリーミングを有効にします。

  ```bash
  stream_localhost off
  ```

- ブラウザで`http://[RaspberryPiのIPアドレス]:8081`にアクセスして、リアルタイムの映像を確認します。

#### 6. 映像の保存と通知の設定
- Motionは、動体を検知すると映像を保存したり、特定のコマンドを実行するように設定できます。例えば、検知時にメールで通知を送ることも可能です。

#### 7. ケースへの設置と屋外利用
- 防水ケースにRaspberry Piとカメラを収め、電源とネットワーク接続を確保します。外部への設置では、盗難防止のためにしっかりと固定することも重要です。

### 補足
- 屋外設置の場合、防水対策や耐久性を考慮したケースの選定が重要です。
- セキュリティを強化するため、SSHやストリーミングのパスワード保護、ファイアウォールの設定なども行うと良いでしょう。

この手順に従えば、基本的な防犯カメラシステムを構築することができます。用途に応じて機能を拡張したり、ソフトウェアをカスタマイズすることで、さらに高度なシステムにすることも可能です。

---
